<!DOCTYPE html>
<html lang="en" class="theme-light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    img-src 'self' data: blob: https:;
    script-src 'self' 'unsafe-inline';
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' data: https://fonts.gstatic.com;
    connect-src 'self' https://mterm2026-559f9bf571b5.herokuapp.com;
    base-uri 'self';
    form-action 'self';
    frame-src 'self' https://www.google.com https://*.google.com;
    child-src 'self' https://www.google.com https://*.google.com
  ">

  <title>MTERMS 2026 — Conference Theme</title>
  <meta name="description" content="MTERMS 2026 Theme — From Discovery to Therapy: Advances in Tissue Engineering and Regenerative Medicine" />
  <link rel="icon" href="public/mterm.jpg" type="image/jpeg">

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/styles.css" />

  <script src="lunr.min.js"></script>

  <style id="theme-overrides">
    /* =========================
       Light-only base (match index)
       ========================= */
    :root.theme-light{
      --bg:#f6fbff;
      --surface:#ffffff;
      --text:#0b1115;
      --muted:#556b86;

      /* UiTM blues */
      --brand:#1e5aa8;
      --brand-2:#2f7bdc;
      --ring: rgba(30,90,168,.18);

      --border:#d7e6f7;
      --faint:#eef6ff;
    }

    html.theme-light, body{
      color: var(--text);
      background:
        radial-gradient(900px 500px at 12% 10%, rgba(47,123,220,.10), transparent 60%),
        radial-gradient(700px 420px at 85% 18%, rgba(30,90,168,.08), transparent 55%),
        linear-gradient(180deg, #f6fbff 0%, #ffffff 55%, #f6fbff 100%);
    }

    .theme-light .site-header{
      background: rgba(255,255,255,.86);
      border-bottom: 1px solid var(--border);
      backdrop-filter: blur(8px);
      position: relative;
      z-index: 1000;
    }

    /* =========================
       HEADER — same as index (critical)
       This prevents giant logos + dark block
       ========================= */

    .site-header .header-inner.header-2row{
      display:flex !important;
      flex-direction:column !important;
      align-items:stretch !important;
      justify-content:flex-start !important;
      gap:10px;
      padding-top:10px;
      padding-bottom:10px;
      position:relative;
    }

    .site-header .brand-row{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:center;
      gap:14px;
    }

    .site-header .brand-logo{
      display:flex;
      align-items:center;
    }
    .site-header .brand-row .brand-logo:first-child{ justify-content:flex-start; }
    .site-header .brand-row .brand-logo:last-child{ justify-content:flex-end; }

    /* Force logo size (prevents giant TESMA) */
    .site-header img.header-logo.header-logo--org{
      height:64px !important;
      max-height:64px !important;
      width:auto !important;
      max-width:200px !important;
      object-fit:contain !important;
      display:block !important;
    }

    .site-header .brand.brand-center{
      display:inline-flex;
      align-items:baseline;
      justify-content:center;
      gap:2px;
      text-decoration:none;
      white-space:nowrap;
    }

    .site-header .brand-mark,
    .site-header .brand-year{
      font-size: 2.1rem !important;
      font-weight: 900 !important;
      line-height: 1;
    }

    .site-header .nav-row{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:14px;
      flex-wrap:nowrap;
      position: relative;
    }

    .site-header .nav-row .nav{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:14px;
      flex-wrap:wrap;
      font-size:1.05rem;
      font-weight:600;
    }

    .site-header .nav-row .nav a,
    .site-header .nav-dd-btn{
      padding:8px 10px;
      border-radius:10px;
      text-decoration:none;
      color: inherit;
    }

    .site-header .header-actions{
      display:flex;
      align-items:center;
      gap:10px;
      flex:0 0 auto;
    }

    /* Authors dropdown (same behavior as index) */
    .nav-dd{ position:relative; }
    .nav-dd-btn{
      background:transparent;
      border:1px solid transparent;
      cursor:pointer;
      color:inherit;
      font: inherit;
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    .nav-dd-btn:hover{
      background: rgba(30,90,168,.06);
      border-color: rgba(30,90,168,.10);
    }
    .nav-dd-caret{ font-size:.9em; opacity:.8; }

    .nav-dd-menu{
      position:absolute;
      top: calc(100% + 8px);
      left: 50%;
      transform: translateX(-50%);
      min-width: 260px;
      background: var(--surface);
      border:1px solid var(--border);
      border-radius:14px;
      padding:10px;
      box-shadow: 0 18px 40px rgba(0,0,0,.10);
      display:none;
      z-index: 9999;
    }
    .nav-dd-menu a{
      display:block;
      padding:10px 10px;
      border-radius:12px;
    }
    .nav-dd-menu a:hover{ background: rgba(30,90,168,.08); }
    .nav-dd.open .nav-dd-menu{ display:block; }
    .nav-dd.open .nav-dd-btn{
      background: rgba(30,90,168,.06);
      border-color: rgba(30,90,168,.10);
    }

    /* Active Theme nav */
    .nav a.is-active{
      background: rgba(30,90,168,.08);
      border: 1px solid rgba(30,90,168,.14);
      border-radius: 10px;
    }

    /* Mobile behavior (same as index) */
    @media (max-width: 980px){
      .site-header .brand-row{ grid-template-columns: auto 1fr auto; }

      .site-header img.header-logo.header-logo--org{
        height:34px !important;
        max-height:34px !important;
        max-width:140px !important;
      }

      .site-header .nav-row{ justify-content:space-between; }

      .site-header .nav-row .nav{ display:none; }

      .site-header .nav-row .nav.open{
        display:flex !important;
        position:absolute !important;
        top:100% !important;
        left:12px !important;
        right:12px !important;
        margin-top:10px !important;
        padding:12px !important;
        border-radius:12px !important;
        background:#ffffff !important;
        border:1px solid var(--border) !important;
        box-shadow: 0 12px 30px rgba(0,0,0,.10) !important;
        flex-direction:column !important;
        gap:10px !important;
        z-index:9999 !important;
      }

      .nav-dd-menu{
        position: static;
        transform:none;
        min-width: unset;
        box-shadow:none;
        border-radius:12px;
        margin-top:6px;
      }
    }

    /* =========================
       Minimalist page body (1 column)
       ========================= */
    .theme-page{
      padding: 36px 0 56px;
    }

    .theme-container{
      max-width: 900px;
      margin: 0 auto;
    }

    .theme-card{
      background: rgba(255,255,255,.88);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 22px 18px;
      box-shadow: 0 10px 25px rgba(30,90,168,.06);
      backdrop-filter: blur(6px);
    }

    .kicker{
      display:inline-flex;
      gap:10px;
      align-items:center;
      padding: 7px 12px;
      border-radius: 999px;
      background: rgba(30,90,168,.08);
      border: 1px solid rgba(30,90,168,.14);
      font-weight: 800;
      color: #0f172a;
      letter-spacing: .2px;
      margin-bottom: 12px;
    }

    .theme-title{
      margin: 0 0 10px;
      font-size: clamp(1.75rem, 2.6vw, 2.35rem);
      line-height: 1.2;
      letter-spacing: -0.3px;
    }

    .theme-quote{
      margin: 0 0 12px;
      font-weight: 900;
      font-size: 1.08rem;
      line-height: 1.5;
      background: linear-gradient(90deg, #166534, #1e5aa8);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .theme-text{
      color: #1f2937;
      line-height: 1.75;
      font-size: 1.02rem;
      margin: 0 0 12px;
      max-width: 75ch;
    }

    .pill-row{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 8px;
    }
    .pill{
      background:#f8fafc;
      color:#0b1115;
      border:1px solid var(--border);
      border-radius: 999px;
      padding: 8px 12px;
      font-weight: 700;
      font-size: .95rem;
    }

    .simple-list{
      margin: 10px 0 0;
      padding-left: 18px;
      color: #334155;
      line-height: 1.7;
    }

    .cta-row{
      margin-top: 14px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }

    .theme-light .site-footer{
      background:#ffffff;
      border-top:1px solid var(--border);
    }
    .theme-light .foot-copy{ color:#64748b; }
  </style>
</head>

<body>

  <!-- HEADER (same HTML as index) -->
  <header class="site-header">
    <div class="container header-inner header-2row">

      <div class="brand-row">
        <a class="brand-logo" href="index.html#home" aria-label="TESMA">
          <img src="tesma.png" alt="TESMA logo" class="header-logo header-logo--org">
        </a>

        <a href="index.html#home" class="brand brand-center" aria-label="MTERMS 2026 Home">
          <span class="brand-mark">MTERMS</span><span class="brand-year">2026</span>
        </a>

        <a class="brand-logo" href="index.html#home" aria-label="UiTM">
          <img src="uitm.png" alt="UiTM logo" class="header-logo header-logo--org">
        </a>
      </div>

      <div class="nav-row">
        <nav class="nav" id="siteNav" aria-label="Primary navigation">
          <a href="index.html#about">About</a>
          <a href="theme.html" class="is-active">Theme</a>
          <a href="index.html#program">Program</a>
          <a href="index.html#speakers">Speakers</a>
          <a href="index.html#venue">Venue & Travel</a>
          <a href="index.html#registration">Registration</a>

          <div class="nav-dd" data-dd>
            <button class="nav-dd-btn" type="button" aria-haspopup="true" aria-expanded="false">
              Authors <span class="nav-dd-caret" aria-hidden="true">▾</span>
            </button>
            <div class="nav-dd-menu" role="menu">
              <a role="menuitem" href="index.html#authors-guidelines">Author Guidelines (placeholder)</a>
              <a role="menuitem" href="index.html#abstracts">Abstract Submission (placeholder)</a>
              <a role="menuitem" href="index.html#presenter-info">Presenter / Oral Instructions (placeholder)</a>
              <a role="menuitem" href="index.html#poster-info">Poster Instructions (placeholder)</a>
              <a role="menuitem" href="index.html#faq-authors">Author FAQs (placeholder)</a>
            </div>
          </div>

          <a href="index.html#sponsors">Sponsors</a>
          <a href="index.html#committee">Committee</a>
          <a href="index.html#contact">Contact</a>
        </nav>

        <div class="header-actions">
          <button class="nav-toggle" aria-label="Open menu" aria-controls="siteNav" aria-expanded="false">☰</button>
        </div>
      </div>

    </div>
  </header>

  <!-- PAGE -->
  <main class="theme-page">
    <div class="container theme-container">

      <section class="theme-card" aria-label="Conference Theme">
        <div class="kicker">Conference Theme</div>

        <h1 class="theme-title">From discovery to therapy</h1>

        <p class="theme-quote">
          “FROM DISCOVERY TO THERAPY: ADVANCES IN TISSUE ENGINEERING AND REGENERATIVE MEDICINE”
        </p>

        <p class="theme-text">
          MTERMS 2026 highlights the full translation pipeline—how breakthroughs in biomaterials, cells, organoids,
          biofabrication, and regenerative strategies can be validated, scaled, and delivered as real therapies.
        </p>

        <div class="pill-row" aria-label="Key areas">
          <span class="pill">Biomaterials & scaffolds</span>
          <span class="pill">Stem cells & organoids</span>
          <span class="pill">Bioprinting & biofabrication</span>
          <span class="pill">Clinical translation</span>
          <span class="pill">Manufacturing & QA/QC</span>
          <span class="pill">Standards & compliance</span>
        </div>

        <h2 style="margin:18px 0 10px;">Focus areas</h2>
        <ul class="simple-list">
          <li><strong>Bench-to-bedside translation</strong> — evidence, safety, and clinically meaningful outcomes.</li>
          <li><strong>Reproducibility & scalability</strong> — processes that remain consistent across batches and sites.</li>
          <li><strong>Regulatory readiness</strong> — documentation and controls aligned to real-world expectations.</li>
          <li><strong>Partnership-driven impact</strong> — academia, clinicians, industry, and agencies working together.</li>
        </ul>

        <h2 style="margin:18px 0 10px;">Why it matters</h2>
        <p class="theme-text" style="margin-bottom:0;">
          Sustainable progress in TERM requires more than breakthroughs—it requires systems that deliver therapies reliably.
          MTERMS 2026 brings multidisciplinary communities together to advance translation, strengthen partnerships,
          and support innovations that can be deployed at real-world scale.
        </p>

        <div class="cta-row">
          <a class="btn primary" href="https://www.mterms2026.com/register.html" rel="noopener">Register</a>
          <a class="btn" href="login.html">Login</a>
          <a class="btn ghost" href="index.html#program">View Program (Tentative)</a>
        </div>
      </section>

    </div>
  </main>

  <!-- Footer (same pattern as index) -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="foot-brand">MTERMS 2026</div>
      <div class="foot-links">
        <a href="index.html#registration">Register</a>
        <a href="index.html#abstracts">Submit Abstract</a>
        <a href="#">Payment</a>
        <a href="#">Code of Conduct</a>
        <a href="#">Privacy</a>
        <a href="login.html">Participant Portal</a>
        <a href="admin.html">Admin Login</a>
      </div>
      <div class="foot-copy">© 2026 MTERMS.</div>
    </div>
  </footer>

  <!-- AI BOT (same as your index) -->
  <div id="ai-widget">
    <div id="ai-chat-window" class="ai-window hidden">
      <div class="ai-header">
        <span>MTERMS2026 AI Assistant</span>
        <button id="ai-close-btn" aria-label="Close chat">×</button>
      </div>
      <div id="ai-messages" class="ai-messages">
        <div class="ai-msg bot">
          Hello! I'm the MTERMS2026 AI agent. Ask me about the schedule, venue, or deadlines!
        </div>
      </div>
      <div class="ai-input-area">
        <input type="text" id="ai-input" placeholder="Ask a question..." />
        <button id="ai-send-btn">➤</button>
      </div>
    </div>

    <button id="ai-toggle-btn" class="ai-toggle">
      <img src="public/aichatbot.png" alt="AI Chatbot" class="ai-toggle-icon">
    </button>
  </div>

  <style>
    .ai-toggle{
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: #ffffff;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 6px 18px rgba(0,0,0,0.18);
      z-index: 10000;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .ai-toggle:hover{
      transform: scale(1.08);
      box-shadow: 0 10px 24px rgba(0,0,0,0.25);
    }
    .ai-toggle-icon{
      width: 32px;
      height: 32px;
      object-fit: contain;
      pointer-events: none;
    }

    .ai-window{
      position: fixed;
      bottom: 100px;
      right: 30px;
      width: 350px;
      height: 450px;
      background: var(--surface, #ffffff);
      border: 1px solid var(--border, #ddd);
      border-radius: 16px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.15);
      z-index: 10000;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      font-family: 'Inter', sans-serif;
      transition: opacity 0.3s, transform 0.3s;
    }
    .ai-window.hidden{
      opacity: 0;
      pointer-events: none;
      transform: translateY(20px);
    }

    .ai-header{
      background: var(--brand, #1e5aa8);
      color: white;
      padding: 15px;
      font-weight: 600;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    #ai-close-btn{
      background: none;
      border: none;
      color: white;
      font-size: 20px;
      cursor: pointer;
    }

    .ai-messages{
      flex: 1;
      padding: 15px;
      overflow-y: auto;
      background: var(--bg, #f6fbff);
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .ai-msg{
      padding: 10px 14px;
      border-radius: 12px;
      max-width: 80%;
      font-size: 0.9rem;
      line-height: 1.4;
    }
    .ai-msg.bot{
      background: #eef2f6;
      color: #333;
      align-self: flex-start;
      border-bottom-left-radius: 2px;
    }
    .ai-msg.user{
      background: var(--brand, #1e5aa8);
      color: white;
      align-self: flex-end;
      border-bottom-right-radius: 2px;
    }

    .ai-quick{ margin-top: 8px; display: flex; gap: 8px; flex-wrap: wrap; }
    .ai-quick-btn{
      border: 1px solid rgba(0,0,0,.12);
      background: #fff;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      cursor: pointer;
    }
    .ai-quick-btn:hover{ filter: brightness(0.98); }

    .ai-input-area{
      padding: 10px;
      border-top: 1px solid var(--border, #ddd);
      display: flex;
      gap: 10px;
      background: var(--surface, #fff);
    }
    #ai-input{
      flex: 1;
      padding: 8px 12px;
      border: 1px solid var(--border, #ccc);
      border-radius: 20px;
      outline: none;
    }
    #ai-send-btn{
      background: var(--brand, #1e5aa8);
      color: white;
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #ai-send-btn:hover{ background: var(--brand-2, #2f7bdc); }
  </style>

  <script>
    /* Header dropdown + mobile menu (same as index) */
    (function(){
      const nav = document.getElementById('siteNav');
      const toggle = document.querySelector('.nav-toggle');
      const dd = document.querySelector('[data-dd]');
      const ddBtn = dd ? dd.querySelector('.nav-dd-btn') : null;

      if (toggle && nav){
        toggle.addEventListener('click', () => {
          const open = nav.classList.toggle('open');
          toggle.setAttribute('aria-expanded', String(open));
        });
      }

      function closeDD(){
        if (!dd) return;
        dd.classList.remove('open');
        if (ddBtn) ddBtn.setAttribute('aria-expanded', 'false');
      }
      function toggleDD(){
        if (!dd) return;
        const open = dd.classList.toggle('open');
        if (ddBtn) ddBtn.setAttribute('aria-expanded', String(open));
      }

      if (ddBtn){
        ddBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          toggleDD();
        });
      }

      document.addEventListener('click', closeDD);
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeDD();
      });
    })();
  </script>

  <script>
    /* MTERMS AI ASSISTANT - SAFE SMART FAQ BOT */
    (function () {
      function init() {
        const toggleBtn = document.getElementById('ai-toggle-btn');
        const closeBtn  = document.getElementById('ai-close-btn');
        const windowEl  = document.getElementById('ai-chat-window');
        const inputEl   = document.getElementById('ai-input');
        const sendBtn   = document.getElementById('ai-send-btn');
        const msgsEl    = document.getElementById('ai-messages');

        if (!toggleBtn || !closeBtn || !windowEl || !inputEl || !sendBtn || !msgsEl) return;

        const faq = [
          { id:"venue", title:"Venue & location", text:"Venue: Concorde Hotel, Shah Alam, Selangor, Malaysia.", tags:"venue location hotel where shah alam concorde selangor" },
          { id:"dates", title:"Conference dates", text:"Conference dates: 7 & 8 September 2026 (Monday & Tuesday).", tags:"date when september 2026 7 8" },
          { id:"abstract_deadline", title:"Abstract deadline", text:"Abstract submission deadline: 31 March 2026. Late abstract submission: 1 April 2026 – 15 August 2026.", tags:"abstract deadline submit submission late april august" },
          { id:"acceptance", title:"Acceptance notification", text:"Abstract acceptance notifications: 15 March 2026 – 15 April 2026.", tags:"acceptance notification result decision" },
          { id:"registration", title:"Registration deadlines", text:"Early bird registration ends on 15 May 2026. Late registration/payment is accepted until 1 September 2026. Walk-in registration is available after 1 September 2026 (subject to availability).", tags:"register registration early bird late payment walk in onsite" },
          { id:"contact", title:"Contact", text:"For help, email admin@mterms2026.com.", tags:"contact email help admin" }
        ];

        let idx = null;
        function buildIndex() {
          if (typeof window.lunr !== "function") { idx = null; return false; }
          idx = window.lunr(function () {
            this.ref("id");
            this.field("title");
            this.field("text");
            this.field("tags");
            faq.forEach(d => this.add(d));
          });
          return true;
        }
        buildIndex();

        function normalize(q){ return (q||"").toLowerCase().trim().replace(/\s+/g," "); }

        function getAnswer(q){
          const s = normalize(q);
          if (!idx) return { text:"Bot search isn’t loaded yet. Please confirm lunr.min.js exists in root.", quick:["Venue","Dates","Abstract deadline","Registration","Contact"] };
          if (s.length < 3) return { text:"Ask about: venue, dates, abstract deadline, registration, or contact.", quick:["Venue","Dates","Abstract deadline","Registration","Contact"] };

          const r = idx.search(s);
          if (!r.length) return { text:"I couldn’t find that. Try: venue, dates, abstract deadline, registration, or contact.", quick:["Venue","Dates","Abstract deadline","Registration","Contact"] };

          const best = faq.find(d => d.id === r[0].ref);
          return { text: best ? best.text : "Try venue, dates, abstract deadline, registration, or contact.", quick:["Venue","Dates","Abstract deadline","Registration","Contact"] };
        }

        toggleBtn.addEventListener('click', () => windowEl.classList.toggle('hidden'));
        closeBtn.addEventListener('click', () => windowEl.classList.add('hidden'));

        function addBubble(text, type){
          const div = document.createElement('div');
          div.className = `ai-msg ${type}`;
          div.innerText = text;
          msgsEl.appendChild(div);
          msgsEl.scrollTop = msgsEl.scrollHeight;
        }

        function sendMessage(){
          const text = inputEl.value.trim();
          if (!text) return;
          addBubble(text,'user');
          inputEl.value = '';
          setTimeout(() => {
            const out = getAnswer(text);
            addBubble(out.text,'bot');
          }, 160);
        }

        sendBtn.addEventListener('click', sendMessage);
        inputEl.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });
      }

      if (document.readyState === "loading") document.addEventListener("DOMContentLoaded", init);
      else init();
    })();
  </script>

</body>
</html>
